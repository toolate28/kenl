---
project: Bazza-DX SAGE Framework
status: active
version: 2025-11-07
classification: OWI-DOC
atom: ATOM-CFG-20251107-023
owi-version: 1.0.0
---

# 1.8TB External Drive - Cross-OS Gaming & Development Hub

**Purpose:** Optimize 1.8TB external HDD as shared resource for Linux/Windows gaming, Claude AI dev work, and datasets

**ATOM Tag:** `ATOM-CFG-20251107-023`
**Drive:** `/dev/sdb` (1.8TB External HDD)
**Systems:** Bazzite-DX (Linux) + Windows 11 (dual-boot)

---

## Design Philosophy

Since you now have Windows on main HDD, the 1.8TB external becomes your **cross-platform gaming and development hub**:

1. **Shared game library** (accessible from both OSes)
2. **Claude AI workspace** (datasets, models, projects)
3. **Development environments** (distrobox, Python venvs)
4. **Backup storage** (system snapshots, configs)

---

## Recommended Partition Layout

### Option A: Maximum Compatibility (NTFS-Heavy)

**Best for:** Mostly Windows gaming, occasional Linux access

```
sdb (1.8TB Total)
├─ sdb1: Games-Shared (1.2TB, NTFS)     ← Steam library, shared between OSes
├─ sdb2: Claude-Workspace (300GB, ext4) ← Linux-only AI/dev work
├─ sdb3: Backups (200GB, NTFS)          ← System images, configs
└─ sdb4: Projects (100GB, ext4)         ← Git repos, code
```

**Pros:**
- Windows can read/write Games + Backups natively
- Linux can mount NTFS (read/write via ntfs-3g)
- Largest partition for games (Windows needs more space)

**Cons:**
- NTFS performance on Linux is slightly slower
- ext4 partitions invisible to Windows (need WSL or drivers)

---

### Option B: Linux-First (ext4-Heavy)

**Best for:** Mostly Linux gaming (Proton), Windows for anti-cheat only

```
sdb (1.8TB Total)
├─ sdb1: Games-Linux (800GB, ext4)      ← Steam Proton library
├─ sdb2: Games-Windows (400GB, NTFS)    ← Windows-exclusive games
├─ sdb3: Claude-AI (400GB, ext4)        ← LLM models, datasets
├─ sdb4: Development (150GB, ext4)      ← Docker, distrobox, Python
└─ sdb5: Shared (50GB, exFAT)           ← Transfer files between OSes
```

**Pros:**
- Better Linux performance (ext4 native)
- Separate game libraries = no conflicts
- exFAT partition for easy file sharing

**Cons:**
- Windows can't see ext4 (unless you install ext4 driver)
- More complex partition management

---

### Option C: Hybrid Approach (RECOMMENDED)

**Best for:** Balanced dual-boot usage, Claude AI work

```
sdb (1.8TB Total)
├─ sdb1: Games-Universal (900GB, NTFS)     ← Steam library (both OSes)
├─ sdb2: Claude-AI-Data (500GB, ext4)      ← Datasets, models, vectors
├─ sdb3: Development (200GB, ext4)         ← Distrobox, venvs, repos
├─ sdb4: Windows-Only (150GB, NTFS)        ← EA App, anti-cheat games
└─ sdb5: Transfer (50GB, exFAT)            ← Quick file exchange
```

**Why This Works:**

1. **Games-Universal (NTFS):**
   - Install Steam games here
   - Both Linux (ntfs-3g) and Windows can access
   - Proton compatibility data stays in `~/.steam` (Linux)
   - Windows games use same files (no duplication)

2. **Claude-AI-Data (ext4):**
   - LLM models (Qwen, Claude embeddings)
   - Vector databases (ChromaDB, FAISS)
   - Training datasets
   - Fast Linux-native performance

3. **Development (ext4):**
   - Distrobox containers
   - Python virtual environments
   - Git repositories
   - Docker volumes

4. **Windows-Only (NTFS):**
   - BF6, BF2042 (anti-cheat games)
   - EA App install location
   - Games that absolutely need Windows

5. **Transfer (exFAT):**
   - Screenshots, videos, documents
   - Quick drag-and-drop between OSes
   - Compatible with Linux, Windows, macOS

---

## Implementation: Hybrid Approach

### Step 1: Partition the Drive (Linux)

```bash
# Ensure drive is unmounted
sudo umount /dev/sdb*

# Launch parted
sudo parted /dev/sdb

# Create GPT partition table
(parted) mklabel gpt

# Create partitions
(parted) mkpart primary ntfs 1MiB 900GiB
(parted) name 1 Games-Universal
(parted) mkpart primary ext4 900GiB 1400GiB
(parted) name 2 Claude-AI-Data
(parted) mkpart primary ext4 1400GiB 1600GiB
(parted) name 3 Development
(parted) mkpart primary ntfs 1600GiB 1750GiB
(parted) name 4 Windows-Only
(parted) mkpart primary fat32 1750GiB 100%
(parted) name 5 Transfer
(parted) quit

# Format partitions
sudo mkfs.ntfs -f -L "Games-Universal" /dev/sdb1
sudo mkfs.ext4 -L "Claude-AI-Data" /dev/sdb2
sudo mkfs.ext4 -L "Development" /dev/sdb3
sudo mkfs.ntfs -f -L "Windows-Only" /dev/sdb4
sudo mkfs.exfat -n "Transfer" /dev/sdb5
```

**Verify:**
```bash
lsblk -o NAME,SIZE,FSTYPE,LABEL /dev/sdb

# Expected output:
# sdb                 1.8T
# ├─sdb1              900G ntfs   Games-Universal
# ├─sdb2              500G ext4   Claude-AI-Data
# ├─sdb3              200G ext4   Development
# ├─sdb4              150G ntfs   Windows-Only
# └─sdb5               50G exfat  Transfer
```

---

### Step 2: Auto-Mount on Linux (Bazzite-DX)

```bash
# Get UUIDs
sudo blkid /dev/sdb*

# Create mount points
sudo mkdir -p /mnt/{games-universal,claude-ai,development,windows-only,transfer}

# Edit /etc/fstab
sudo nano /etc/fstab

# Add these lines (replace UUIDs with yours):
UUID=XXXX-XXXX /mnt/games-universal ntfs-3g defaults,uid=1000,gid=1000,umask=022 0 0
UUID=YYYY-YYYY /mnt/claude-ai ext4 defaults 0 2
UUID=ZZZZ-ZZZZ /mnt/development ext4 defaults 0 2
UUID=AAAA-AAAA /mnt/windows-only ntfs-3g defaults,uid=1000,gid=1000,umask=022 0 0
UUID=BBBB-BBBB /mnt/transfer exfat defaults,uid=1000,gid=1000,umask=022 0 0

# Save and test
sudo mount -a

# Verify
df -h | grep sdb
```

---

### Step 3: Setup Steam Library (Linux)

```bash
# Add Steam library folder
# Steam → Settings → Storage → Add Drive

# Navigate to /mnt/games-universal
# Create folder: SteamLibrary

mkdir -p /mnt/games-universal/SteamLibrary

# In Steam:
# Settings → Storage → "+" → Select /mnt/games-universal/SteamLibrary
```

**Important:** Proton compatibility data stays in `~/.steam/steam/compatdata/`

---

### Step 4: Setup Steam Library (Windows)

```powershell
# In Windows, the drive will appear as D:, E:, or F:
# Open Steam → Settings → Storage → Add Library Folder

# Navigate to [DriveLetter]:\SteamLibrary
# E.g., E:\SteamLibrary

# Steam will detect existing games from Linux!
# Just "Install" the game - it will verify files instead of re-downloading
```

---

## Claude AI Workspace Setup (Linux)

### Directory Structure

```bash
# Claude AI Data partition organization
cd /mnt/claude-ai

# Create directory structure
mkdir -p {models,datasets,vectors,embeddings,projects,cache}

# models: LLM model files (Qwen, Llama, etc.)
# datasets: Training/fine-tuning data
# vectors: ChromaDB, FAISS vector stores
# embeddings: Pre-computed embeddings
# projects: Claude Code workspaces
# cache: Temporary model cache
```

---

### Install Qwen LLM (Local AI)

```bash
# Install Ollama (easiest way to run Qwen)
curl -fsSL https://ollama.com/install.sh | sh

# Pull Qwen 2.5 model (14B parameter, ~8GB)
ollama pull qwen2.5:14b

# Model will be stored in ~/.ollama/models
# Move to external drive for space:
sudo mv ~/.ollama/models /mnt/claude-ai/models/ollama
sudo ln -s /mnt/claude-ai/models/ollama ~/.ollama/models
```

---

### Claude Code Workspace

```bash
# Create projects directory
mkdir -p /mnt/claude-ai/projects/{ai-experiments,bazza-dx,gaming-tools}

# Symlink to home for easy access
ln -s /mnt/claude-ai/projects ~/claude-projects

# Example project structure:
/mnt/claude-ai/projects/
├── ai-experiments/
│   ├── fine-tuning/
│   ├── embeddings/
│   └── rag-pipeline/
├── bazza-dx/
│   ├── kenl/  (this repo)
│   └── gaming-configs/
└── gaming-tools/
    ├── bf6-optimizer/
    └── performance-tracker/
```

---

### Vector Database Setup (ChromaDB)

```bash
# Install ChromaDB
pip install chromadb

# Configure to use external drive
export CHROMA_DB_DIR="/mnt/claude-ai/vectors/chroma"

# Example usage:
python3 << EOF
import chromadb
client = chromadb.PersistentClient(path="/mnt/claude-ai/vectors/chroma")
collection = client.create_collection("gaming-docs")
# Add BF6 documentation embeddings here
EOF
```

---

## Development Environment Setup (Linux)

### Distrobox Containers on External Drive

```bash
# Create distrobox storage on external drive
mkdir -p /mnt/development/distrobox

# Create Ubuntu 24.04 container for Claude Code
distrobox create \
  --name claude-dev \
  --image ubuntu:24.04 \
  --home /mnt/development/distrobox/claude-dev \
  --volume /mnt/games-universal:/games:ro \
  --volume /mnt/claude-ai:/claude-ai

# Enter container
distrobox enter claude-dev

# Inside container, install tools:
sudo apt update
sudo apt install -y python3 python3-pip git vim nodejs npm
```

---

### Python Virtual Environments

```bash
# Create venv directory
mkdir -p /mnt/development/python-venvs

# Create AI development venv
python3 -m venv /mnt/development/python-venvs/ai-dev

# Activate
source /mnt/development/python-venvs/ai-dev/bin/activate

# Install AI packages
pip install torch transformers chromadb langchain openai
```

---

### Git Repositories

```bash
# Clone your repos to external drive
cd /mnt/development

git clone https://github.com/toolate28/kenl.git
git clone [other-repos]

# Symlink to home
ln -s /mnt/development/kenl ~/kenl
```

---

## Windows Access to Linux Partitions

### Option 1: WSL2 (Recommended)

```powershell
# Enable WSL2
wsl --install

# Access ext4 partitions from Windows:
# 1. Open WSL2 Ubuntu
# 2. Mount drive:
sudo mkdir -p /mnt/claude-ai
sudo mount -t ext4 /dev/sdb2 /mnt/claude-ai

# Access from Windows Explorer:
\\wsl$\Ubuntu\mnt\claude-ai
```

---

### Option 2: Ext2Fsd (Direct ext4 Driver)

```powershell
# Download Ext2Fsd
# https://sourceforge.net/projects/ext2fsd/

# Install and configure
# Warning: Experimental for ext4, use read-only mode
```

---

## Usage Workflows

### Workflow 1: Install Game (Works on Both OSes)

**Linux:**
```bash
# Open Steam
# Settings → Storage → Select /mnt/games-universal/SteamLibrary
# Install game to external library
```

**Windows:**
```powershell
# Open Steam
# Install same game to E:\SteamLibrary (same location)
# Steam detects existing files, verifies instead of re-downloading
```

**Result:** Game installed once, playable on both OSes!

---

### Workflow 2: Claude AI Development

```bash
# 1. Boot into Bazzite-DX
# 2. Access workspace
cd ~/claude-projects/ai-experiments

# 3. Start Ollama server
ollama serve

# 4. Run Qwen model
curl http://localhost:11434/api/generate -d '{
  "model": "qwen2.5:14b",
  "prompt": "Explain Battlefield 6 anti-cheat architecture"
}'

# 5. Save embeddings to vector DB
# (stored in /mnt/claude-ai/vectors/)
```

---

### Workflow 3: Quick File Transfer

**Linux → Windows:**
```bash
# Copy screenshot to transfer partition
cp ~/Pictures/bf6-bug.png /mnt/transfer/

# Boot into Windows
# Open E:\Transfer (or whatever drive letter)
# File is there!
```

---

## Backup Strategy

### Linux System Backup (to External Drive)

```bash
# Create backup directory
mkdir -p /mnt/transfer/backups/bazzite-dx

# Backup home directory (exclude large files)
tar -czf /mnt/transfer/backups/bazzite-dx/home-$(date +%Y%m%d).tar.gz \
  --exclude='.steam' \
  --exclude='.cache' \
  ~/

# Backup ostree deployment list
rpm-ostree status > /mnt/transfer/backups/bazzite-dx/ostree-status-$(date +%Y%m%d).txt

# Backup fstab, GRUB config
sudo cp /etc/fstab /mnt/transfer/backups/bazzite-dx/fstab.bak
sudo cp /boot/grub2/grub.cfg /mnt/transfer/backups/bazzite-dx/grub.cfg.bak
```

---

### Windows System Image (to External Drive)

```powershell
# Use Windows Backup
# Settings → System → Storage → Backup options
# Select E:\ (external drive) as backup location

# OR use DISM (command line)
Dism /Capture-Image /ImageFile:E:\Backups\windows11.wim /CaptureDir:C:\ /Name:"Windows 11 Gaming"
```

---

## Performance Considerations

### HDD vs SSD

**Your 1.8TB is HDD (not SSD), so:**

```
Good for:
✅ Game storage (sequential reads are fine)
✅ Dataset storage (large files)
✅ Backups
✅ Development files (source code)

Bad for:
❌ Swap/page file (too slow)
❌ Database writes (ChromaDB is okay, but not ideal)
❌ Real-time model inference (load model to RAM first)
```

**Optimization:**

```bash
# Disable access time updates (reduces writes)
# Add 'noatime' to mount options in /etc/fstab:
UUID=YYYY-YYYY /mnt/claude-ai ext4 defaults,noatime 0 2
```

---

### Game Loading Optimization

**For faster game loading:**

```bash
# 1. Install small games to internal NVMe (if space available)
# 2. Keep large games (100GB+) on external HDD
# 3. Use Steam's "Move Install Folder" to relocate games

# Steam → Right-click game → Properties → Installed Files → Move
```

---

## Space Allocation Summary

**Hybrid Layout (1.8TB):**

| Partition | Size | Filesystem | Purpose | OS Access |
|-----------|------|------------|---------|-----------|
| Games-Universal | 900GB | NTFS | Steam library | Linux + Windows |
| Claude-AI-Data | 500GB | ext4 | LLMs, datasets, vectors | Linux (WSL2 from Windows) |
| Development | 200GB | ext4 | Distrobox, venvs, repos | Linux (WSL2 from Windows) |
| Windows-Only | 150GB | NTFS | BF6, EA App | Linux + Windows |
| Transfer | 50GB | exFAT | Quick file exchange | Linux + Windows + macOS |

**Total:** 1.8TB (50GB reserved for filesystem overhead)

---

## Maintenance

### Monthly Checks

```bash
# Linux: Check filesystem health
sudo e2fsck -f /dev/sdb2  # Claude-AI
sudo e2fsck -f /dev/sdb3  # Development

# Check NTFS partitions
sudo ntfsfix /dev/sdb1  # Games-Universal
sudo ntfsfix /dev/sdb4  # Windows-Only
```

```powershell
# Windows: Check disk
chkdsk E: /F  # Games-Universal
chkdsk F: /F  # Windows-Only
```

---

### Defragmentation (HDD Only)

```powershell
# Windows: Defrag NTFS partitions
defrag E: /O  # Games-Universal
defrag F: /O  # Windows-Only

# Linux: ext4 doesn't need defrag usually
# But can check fragmentation:
sudo e2fsck -fn /dev/sdb2
```

---

## Advanced: Cross-OS Game Mods

**Install mods that work on both OSes:**

```
Games-Universal/
└── SteamLibrary/
    └── steamapps/
        └── common/
            └── Battlefield 6/
                └── Mods/  ← Shared mod folder
                    ├─ graphics-enhancer/
                    └─ performance-boost/
```

Both OSes load mods from same location!

---

## ATOM Traceability

**Document:** `1.8TB_EXTERNAL_DRIVE_LAYOUT.md`
**ATOM Tag:** `ATOM-CFG-20251107-023`
**Related:**
- `ATOM-CFG-20251107-021` - Dual-boot setup
- `ATOM-CFG-20251107-022` - Windows gaming essentials

**Partitions Created:**
1. `sdb1` - Games-Universal (900GB, NTFS)
2. `sdb2` - Claude-AI-Data (500GB, ext4)
3. `sdb3` - Development (200GB, ext4)
4. `sdb4` - Windows-Only (150GB, NTFS)
5. `sdb5` - Transfer (50GB, exFAT)

**Mount Points (Linux):**
- `/mnt/games-universal`
- `/mnt/claude-ai`
- `/mnt/development`
- `/mnt/windows-only`
- `/mnt/transfer`

---

**Last Updated:** 2025-11-07
**ATOM-CFG-20251107-023**
